<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="ir_variance_region takes a spectrum x and, depending on the
arguments computes the following summary:
if subtract_smoothed = FALSE
it computes the variance of the
intensity values for each spectrum in x. If in addition range
is not NULL, it computes the variance only for the region(s)
represented by range.

if subtract_smoothed = TRUE
it smoothes x, subtracts
the smoothed x from the unsmoothed x and computes the
variance of the difference intensity values. If in addition range is
not NULL, it computes the variance only for the region(s)
represented by range.



"><title>Computes the variance of a spectrum in an ir object in a given region — ir_variance_region • ir</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computes the variance of a spectrum in an ir object in a given region — ir_variance_region"><meta property="og:description" content="ir_variance_region takes a spectrum x and, depending on the
arguments computes the following summary:
if subtract_smoothed = FALSE
it computes the variance of the
intensity values for each spectrum in x. If in addition range
is not NULL, it computes the variance only for the region(s)
represented by range.

if subtract_smoothed = TRUE
it smoothes x, subtracts
the smoothed x from the unsmoothed x and computes the
variance of the difference intensity values. If in addition range is
not NULL, it computes the variance only for the region(s)
represented by range.



"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/ir-introduction.html">Introduction to the 'ir' package</a>
    <a class="dropdown-item" href="../articles/ir-class.html">Introduction to the `ir`class</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <a class="dropdown-item" href="../news/index.html">News</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/henningte/ir/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Computes the variance of a spectrum in an <code>ir</code> object in a given region</h1>
      
      <div class="d-none name"><code>ir_variance_region.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>ir_variance_region</code> takes a spectrum <code>x</code> and, depending on the
arguments computes the following summary:</p><dl><dt>if <code>subtract_smoothed = FALSE</code></dt>
<dd><p>it computes the variance of the
intensity values for each spectrum in <code>x</code>. If in addition <code>range</code>
is not <code>NULL</code>, it computes the variance only for the region(s)
represented by <code>range</code>.</p></dd>

<dt>if <code>subtract_smoothed = TRUE</code></dt>
<dd><p>it smoothes <code>x</code>, subtracts
the smoothed <code>x</code> from the unsmoothed <code>x</code> and computes the
variance of the difference intensity values. If in addition <code>range</code> is
not <code>NULL</code>, it computes the variance only for the region(s)
represented by <code>range</code>.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">ir_variance_region</span><span class="op">(</span>
  <span class="va">x</span>,
  subtract_smoothed <span class="op">=</span> <span class="cn">FALSE</span>,
  do_normalize <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">normalize_method</span>,
  <span class="va">...</span>,
  range <span class="op">=</span> <span class="cn">NULL</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>An object of class <code><a href="ir_new_ir.html">ir</a></code>. These are the spectra for
which to compute the variance.</p></dd>
<dt>subtract_smoothed</dt>
<dd><p>A logical value. If <code>subtract_smoothed = TRUE</code>,
<code>x</code> is copied, the copy smoothed using <code>ir_smooth</code> with
<code>method = "sg"</code> and subtracted from <code>x</code> before the variance of the
intensity values from <code>x</code> is computed. This allows e.g. to estimate the
noise level in a specific region of spectra. If
<code>subtract_smoothed = FALSE</code> (the default), nothing is subtracted from
<code>x</code> before computing the variance of the intensity values.</p></dd>
<dt>do_normalize</dt>
<dd><p>A logical value. If set to <code>TRUE</code>, the spectra in
<code>x</code> are normalized after subtraction of a smoothed version, else no
normalization is performed.</p></dd>
<dt>normalize_method</dt>
<dd><p>See <code><a href="ir_normalize.html">ir_normalize()</a></code>.</p></dd>
<dt>...</dt>
<dd><p>Arguments passed to <code><a href="ir_smooth.html">ir_smooth()</a></code> (except for
<code>method</code> which is always set to <code>"sg"</code> if <code>subtract_smoothed</code> is
<code>TRUE</code>). If <code>subtract_smoothed = FALSE</code>, these arguments will be
ignored.</p></dd>
<dt>range</dt>
<dd><p>See <code><a href="ir_clip.html">ir_clip()</a></code>. This is the range for which the
variance of the intensity values will be computed.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>x</code> with two additional columns:</p><dl><dt>variance</dt>
<dd><p>A numeric vector with the computed variances of the
intensity values for the respective spectra.</p></dd>

<dt>n_variance</dt>
<dd><p>An integer vector with the number of intensity values
used during computing the variance.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Whole spectra variance</span></span>
<span class="r-in"><span class="va">x1</span> <span class="op">&lt;-</span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="va"><a href="ir_sample_data.html">ir_sample_data</a></span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="fu">ir_variance_region</span><span class="op">(</span></span>
<span class="r-in">      subtract_smoothed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">      do_normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">      normalize_method <span class="op">=</span> <span class="st">"area"</span>,</span>
<span class="r-in">      range <span class="op">=</span> <span class="cn">NULL</span></span>
<span class="r-in">   <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Spectra variance, but only from a specific region</span></span>
<span class="r-in"><span class="va">range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">2700</span>, end <span class="op">=</span> <span class="fl">2800</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">x2</span> <span class="op">&lt;-</span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="va"><a href="ir_sample_data.html">ir_sample_data</a></span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="fu"><a href="ir_normalize.html">ir_normalize</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="fu">ir_variance_region</span><span class="op">(</span></span>
<span class="r-in">      subtract_smoothed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">      do_normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">      normalize_method <span class="op">=</span> <span class="st">"area"</span>,</span>
<span class="r-in">      range <span class="op">=</span> <span class="va">range</span></span>
<span class="r-in">   <span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Spectra variance after subtracting a smoothed version of the spectra and</span></span>
<span class="r-in"><span class="co"># only from a specific region</span></span>
<span class="r-in"><span class="va">x3</span> <span class="op">&lt;-</span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="va"><a href="ir_sample_data.html">ir_sample_data</a></span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span>
<span class="r-in">   <span class="fu">ir</span><span class="fu">::</span><span class="fu">ir_variance_region</span><span class="op">(</span></span>
<span class="r-in">      subtract_smoothed <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span class="r-in">      do_normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span class="r-in">      range <span class="op">=</span> <span class="va">range</span>,</span>
<span class="r-in">      p <span class="op">=</span> <span class="fl">3</span>, n <span class="op">=</span> <span class="fl">31</span>, ts <span class="op">=</span> <span class="fl">1</span>, m <span class="op">=</span> <span class="fl">0</span></span>
<span class="r-in">   <span class="op">)</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Henning Teickner.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

